(this.webpackJsonpkarangos=this.webpackJsonpkarangos||[]).push([[0],{175:function(e,a,t){},202:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(15),o=t.n(c),i=(t(175),t(121)),l=t(248),s=t(249),d=t.p+"static/media/karangos.637f9a06.png",u=t(7),j=t(67),b=t(145),p=t(54),h=t(135),m=t.n(h),x=t(56),f=t(4),O=Object(i.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},menuLink:{color:e.palette.text.primary,textDecoration:"none"}}}));function v(){var e=n.a.useState(null),a=Object(u.a)(e,2),t=a[0],r=a[1],c=O(),o=function(){r(null)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(j.a,{edge:"start",className:c.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},"aria-label":"menu",children:Object(f.jsx)(m.a,{})}),Object(f.jsxs)(b.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:o,children:[Object(f.jsx)(p.a,{onClick:o,children:Object(f.jsx)(x.b,{className:c.menuLink,to:"/list",children:"Listagem de karangos"})}),Object(f.jsx)(p.a,{onClick:o,className:c.menuItem,children:Object(f.jsx)(x.b,{className:c.menuLink,to:"/new",children:"Cadastrar novo karango"})})]})]})}var g=Object(i.a)((function(e){return{root:{flexGrow:1},logo:{width:"300px"}}}));function C(){var e=g();return Object(f.jsx)("div",{className:e.root,children:Object(f.jsx)(l.a,{position:"static",children:Object(f.jsxs)(s.a,{children:[Object(f.jsx)(v,{}),Object(f.jsx)("img",{src:d,className:e.logo,alt:"logotipo Karangos"})]})})})}var k=t(64),y=t(254),N=t(143),w=t.n(N),A=t(144),S=t.n(A),D=t(92),F=t(136),E=t.n(F),W=Object(i.a)((function(e){return{text:{width:"100%",color:e.palette.text.secondary},toolbar:{backgroundColor:e.palette.background.paper,minHeight:"42px",width:"100%",position:"fixed",bottom:0},link:{color:e.palette.secondary.light,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));function B(){var e=W();return Object(f.jsx)(s.a,{className:e.toolbar,children:Object(f.jsxs)(D.a,{variant:"caption",align:"center",className:e.text,children:["Desenvolvido com ",Object(f.jsx)(E.a,{fontSize:"small"})," por ",Object(f.jsx)("a",{href:"mailto:wainer.oliveira.luiz@gmail.com",className:e.link,children:"Wainer de Oliveira"})]})})}var z=t(258),L=t(17),M=t(41),P=t.n(M),R=t(66),T=t(59),I=t.n(T),K=t(104),q=t(152),H=t(138),_=t.n(H),G=t(137),V=t.n(G),J=t(61),Y=t(139),U=t.n(Y),Z=t(261),$=t(253),Q=t(251),X=t(252),ee=t(250);function ae(e){var a=e.title,t=void 0===a?"Confirmar":a,r=e.isOpen,n=void 0!==r&&r,c=e.onClose,o=e.children,i=function(e){c&&c(e)};return Object(f.jsx)("div",{children:Object(f.jsxs)(Z.a,{open:n,onClose:function(){return i(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(f.jsx)(ee.a,{id:"alert-dialog-title",children:t}),Object(f.jsx)(Q.a,{children:Object(f.jsx)(X.a,{id:"alert-dialog-description",children:o})}),Object(f.jsxs)($.a,{children:[Object(f.jsx)(J.a,{onClick:function(){return i(!0)},color:"primary",children:"OK"}),Object(f.jsx)(J.a,{onClick:function(){return i(!1)},color:"primary",autoFocus:!0,children:"Cancelar"})]})]})})}var te=t(262),re=t(259),ne=t(140),ce=Object(i.a)((function(e){return{table:{minWidth:650},dataGrid:{"& .MuiDataGrid-row button":{visibility:"hidden"},"& .MuiDataGrid-row:hover button":{visibility:"visible"}},toolbar:{justifyContent:"flex-end",paddingRight:0,margin:e.spacing(2,0)}}}));function oe(){var e=ce(),a=Object(r.useState)([]),t=Object(u.a)(a,2),n=t[0],c=t[1],o=Object(r.useState)(),i=Object(u.a)(o,2),l=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(u.a)(b,2),h=p[0],m=p[1],x=Object(r.useState)(!1),O=Object(u.a)(x,2),v=O[0],g=O[1],C=Object(r.useState)("success"),k=Object(u.a)(C,2),y=k[0],N=k[1],w=Object(r.useState)("Exclus\xe3o realizada com sucesso."),A=Object(u.a)(w,2),S=A[0],D=A[1],F=Object(L.f)();function E(){return W.apply(this,arguments)}function W(){return(W=Object(R.a)(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("https://api.faustocintra.com.br/karangos?by=marca,modelo");case 3:(a=e.sent).data.length>0&&c(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(){return(B=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.delete("https://api.faustocintra.com.br/karangos/".concat(l));case 3:E(),N("success"),D("Exclus\xe3o efetuada com sucesso."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),N("error"),D("ERRO: "+e.t0.message);case 12:g(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z(){g(!1)}Object(r.useEffect)((function(){setTimeout((function(){return E()}),100)}),[]);var M=[{field:"id",headerName:"C\xf3d.",align:"right",headerAlign:"right",flex:!0,sortComparator:function(e,a){return Number(e)>Number(a)?1:-1}},{field:"marca",headerName:"Marca",flex:!0},{field:"modelo",headerName:"Modelo",flex:!0},{field:"cor",headerName:"Cor",align:"center",headerAlign:"center",flex:!0},{field:"ano_fabricacao",headerName:"Ano",align:"center",headerAlign:"center",flex:!0,sortComparator:function(e,a){return Number(e)>Number(a)?1:-1}},{field:"importado",headerName:"Importado?",align:"center",headerAlign:"center",flex:!0,renderCell:function(e){return Object(f.jsx)(q.a,{checked:"1"===e.value,readOnly:!0})}},{field:"placa",headerName:"Placa",align:"center",headerAlign:"center",flex:!0},{field:"preco",headerName:"Pre\xe7o",align:"right",headerAlign:"right",flex:!0,valueFormatter:function(e){return Number(e.value).toLocaleString("pt-br",{style:"currency",currency:"BRL"})},sortComparator:function(e,a){return Number(e)>Number(a)?1:-1}},{field:"editar",headerName:"Editar",align:"center",headerAlign:"center",flex:!0,renderCell:function(e){return Object(f.jsx)(j.a,{"aria-label":"editar",onClick:function(){return F.push("/edit/".concat(e.id))},children:Object(f.jsx)(V.a,{})})}},{field:"excluir",headerName:"Excluir",align:"center",headerAlign:"center",flex:!0,renderCell:function(e){return Object(f.jsx)(j.a,{"aria-label":"excluir",onClick:function(){return a=e.id,d(a),void m(!0);var a},children:Object(f.jsx)(_.a,{color:"error"})})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ae,{isOpen:h,onClose:function(e){m(!1),e&&function(){B.apply(this,arguments)}()},children:"Deseja realmente excluir este karango?"}),Object(f.jsx)(te.a,{open:v,autoHideDuration:6e3,onClose:z,children:Object(f.jsx)(re.a,{elevation:6,variant:"filled",onClose:z,severity:y,children:S})}),Object(f.jsx)("h1",{children:"Listagem de Karangos"}),Object(f.jsx)(s.a,{className:e.toolbar,children:Object(f.jsx)(J.a,{color:"secondary",variant:"contained",size:"large",startIcon:Object(f.jsx)(U.a,{}),onClick:function(){return F.push("/new")},children:"Novo Karango"})}),Object(f.jsx)(K.a,{elevation:4,children:Object(f.jsx)(ne.a,{className:e.dataGrid,rows:n,columns:M,pageSize:10,autoHeight:!0,disableSelectionOnClick:!0})})]})}var ie=t(76),le=t(111),se=t(207),de=t(77),ue=t(142),je=t.n(ue),be=t(257),pe=Object(i.a)((function(){return{form:{maxWidth:"90%",margin:"0 auto",display:"flex",justifyContent:"space-around",flexWrap:"wrap","& .MuiFormControl-root":{minWidth:"200px",maxWidth:"500px",marginBottom:"24px"}},toolbar:{marginTop:"36px",width:"100%",display:"flex",justifyContent:"space-around"},checkbox:{alignItems:"center"}}})),he={A:"[A-Za-z]",0:"[0-9]","#":"[0-9A-Ja-j]"};function me(){var e=pe(),a=Object(r.useState)(),t=Object(u.a)(a,2),n=(t[0],t[1],Object(r.useState)()),c=Object(u.a)(n,2),o=c[0],i=c[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(r.useState)(!1),m=Object(u.a)(h,2),x=m[0],O=m[1],v=Object(r.useState)("Cadastrar novo Karango"),g=Object(u.a)(v,2),C=g[0],k=g[1],y=Object(r.useState)({id:null,marca:"",modelo:"",cor:"",ano_fabricacao:(new Date).getFullYear(),importado:"0",placa:"",preco:0}),N=Object(u.a)(y,2),w=N[0],A=N[1],S=Object(r.useState)({open:!1,severity:"success",message:"Karango salvo com sucesso"}),D=Object(u.a)(S,2),F=D[0],E=D[1],W=Object(r.useState)({disabled:!1,label:"Enviar"}),B=Object(u.a)(W,2),z=B[0],M=B[1],T=Object(r.useState)({marca:"",modelo:"",cor:"",placa:"",preco:""}),K=Object(u.a)(T,2),H=K[0],_=K[1],G=Object(L.f)(),V=Object(L.g)();function Y(){return(Y=Object(R.a)(P.a.mark((function e(a){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("https://api.faustocintra.com.br/karangos/".concat(a));case 3:t=e.sent,A(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E({open:!0,severity:"error",error:"N\xe3o foi poss\xedvel carregar os dados para edi\xe7\xe3o."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(e,a){var t=Object(ie.a)({},w),r=o;if(e.target.id&&(a=e.target.id),"importado"===a){var n=!o;t.importado=n?"1":"0",r=n}else t[a]="placa"===a?e.target.value.toUpperCase():e.target.value;A(t),i(r),O(!0),function(e){var a={marca:"",modelo:"",cor:"",placa:"",preco:""},t=!0;""===e.marca.trim()&&(a.marca="A marca deve ser preenchida",t=!1);""===e.modelo.trim()&&(a.modelo="A modelo deve ser preenchido",t=!1);""===e.cor.trim()&&(a.cor="A cor deve ser preenchida",t=!1);(""===e.placa.trim()||e.placa.includes("_"))&&(a.placa="A placa deve ser corretamente preenchida",t=!1);(isNaN(e.preco)||+e.preco<=0)&&(a.preco="A pre\xe7o deve ser preenchido e maior que zero",t=!1);_(a)}(t)}function Z(){return(Z=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M({disabled:!0,label:"Enviando..."}),!V.id){e.next=7;break}return e.next=5,I.a.put("https://api.faustocintra.com.br/karangos/".concat(V.id),w);case 5:e.next=9;break;case 7:return e.next=9,I.a.post("https://api.faustocintra.com.br/karangos",w);case 9:E({open:!0,severity:"success",message:"Karango salvo com sucesso"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),E({open:!0,severity:"error",message:"ERRO: "+e.t0.messag});case 15:M({disabled:!1,label:"Enviar"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function $(e){return Object(f.jsx)(re.a,Object(ie.a)({elevation:6,variant:"filled"},e))}function Q(e,a){"clickaway"!==a&&(E(Object(ie.a)(Object(ie.a)({},F),{},{open:!1})),G.push("/list"))}return Object(r.useEffect)((function(){V.id&&(k("Editando Karango"),function(e){Y.apply(this,arguments)}(V.id))}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ae,{isOpen:j,onClose:function(e){b(!1),e&&G.push("/list")},children:"H\xe1 dados n\xe3o salvos. Deseja realmente voltar?"}),Object(f.jsx)(te.a,{open:F.open,autoHideDuration:6e3,onClose:Q,children:Object(f.jsx)($,{onClose:Q,severity:F.severity,children:F.message})}),Object(f.jsx)("h1",{children:C}),Object(f.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),function(){Z.apply(this,arguments)}()},children:[Object(f.jsx)(le.a,{fullWidth:!0,id:"marca",label:"Marca",variant:"filled",value:w.marca,onChange:U,required:!0,error:""!==H.marca,helperText:H.marca}),Object(f.jsx)(le.a,{fullWidth:!0,id:"modelo",label:"Modelo",variant:"filled",value:w.modelo,onChange:U,required:!0,error:""!==H.modelo,helperText:H.modelo}),Object(f.jsxs)(le.a,{fullWidth:!0,id:"cor",label:"Cor",variant:"filled",value:w.cor,onChange:function(e){return U(e,"cor")},required:!0,error:""!==H.cor,helperText:H.cor,select:!0,children:[Object(f.jsx)(p.a,{value:"Amarelo",children:"Amarelo"}),Object(f.jsx)(p.a,{value:"Azul",children:"Azul"}),Object(f.jsx)(p.a,{value:"Bege",children:"Bege"}),Object(f.jsx)(p.a,{value:"Branco",children:"Branco"}),Object(f.jsx)(p.a,{value:"Cinza",children:"Cinza"}),Object(f.jsx)(p.a,{value:"Dourado",children:"Dourado"}),Object(f.jsx)(p.a,{value:"Laranja",children:"Laranja"}),Object(f.jsx)(p.a,{value:"Marrom",children:"Marrom"}),Object(f.jsx)(p.a,{value:"Prata",children:"Prata"}),Object(f.jsx)(p.a,{value:"Preto",children:"Preto"}),Object(f.jsx)(p.a,{value:"Roxo",children:"Roxo"}),Object(f.jsx)(p.a,{value:"Verde",children:"Verde"}),Object(f.jsx)(p.a,{value:"Vermelho",children:"Vermelho"})]}),Object(f.jsx)(le.a,{fullWidth:!0,id:"ano_fabricacao",label:"Ano de Fabrica\xe7\xe3o",variant:"filled",value:w.ano_fabricacao,onChange:function(e){return U(e,"ano_fabricacao")},required:!0,select:!0,children:function(){for(var e=[],a=(new Date).getFullYear();a>=1900;a--)e.push(a);return e}().map((function(e){return Object(f.jsx)(p.a,{value:e,children:e},e)}))}),Object(f.jsx)(le.a,{fullWidth:!0,id:"preco",label:"Pre\xe7o",variant:"filled",value:w.preco,onChange:U,onFocus:function(e){return e.target.select()},type:"number",InputProps:{startAdornment:Object(f.jsx)(be.a,{position:"start",children:"R$"})},required:!0,error:""!==H.preco,helperText:H.preco}),Object(f.jsx)(je.a,{formatChars:he,mask:"AAA-0#00",id:"placa",value:w.placa,onChange:function(e){return U(e,"placa")},children:function(){return Object(f.jsx)(le.a,{fullWidth:!0,label:"Placa",variant:"filled",required:!0,error:""!==H.placa,helperText:H.placa})}}),Object(f.jsx)(de.a,{fullWidth:!0,className:e.checkbox,children:Object(f.jsx)(se.a,{control:Object(f.jsx)(q.a,{checked:o,onChange:U,id:"importado"}),label:"Importado?"})}),Object(f.jsxs)(s.a,{className:e.toolbar,children:[Object(f.jsx)(J.a,{variant:"contained",color:"secondary",type:"submit",disabled:z.disabled,children:z.label}),Object(f.jsx)(J.a,{variant:"contained",onClick:function(){x?b(!0):G.push("/list")},children:"Voltar"})]})]})]})}var xe=Object(i.a)((function(e){return{box:{backgroundColor:e.palette.background.default,minHeight:"100vh",paddingBottom:"42px"},routed:{padding:"25px",color:e.palette.text.primary,fontFamily:e.typography.fontFamily}}})),fe=Object(k.a)({palette:{type:"dark",primary:{main:w.a[500]},secondary:{main:S.a[500]}}});function Oe(){var e=xe();return Object(f.jsx)(z.a,{className:e.box,children:Object(f.jsxs)(x.a,{children:[Object(f.jsx)(C,{}),Object(f.jsx)(z.a,{id:"routed",className:e.routed,children:Object(f.jsxs)(L.c,{children:[Object(f.jsx)(L.a,{path:"/list",children:Object(f.jsx)(oe,{})}),Object(f.jsx)(L.a,{path:"/new",children:Object(f.jsx)(me,{})}),Object(f.jsx)(L.a,{path:"/edit/:id",children:Object(f.jsx)(me,{})})]})}),Object(f.jsx)(B,{})]})})}var ve=function(){return Object(f.jsx)(y.a,{theme:fe,children:Object(f.jsx)(Oe,{})})},ge=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,265)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[202,1,2]]]);
//# sourceMappingURL=main.c51dd215.chunk.js.map